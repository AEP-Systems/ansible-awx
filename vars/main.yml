region: "0"
common_os_support: ["CentOS", "Ubuntu", "Amazon"]

init_docker:
  awx:
    admin_username: admin
    admin_password: "password"
    db: postgresql
    db_name: awx
    db_username: awx
    db_password: "awxpass"
    service_after: "docker.service"
    compose_path: "/data/.awx/docker-compose.yml"
    compose_commands: 
      - 'sed -i "s/POSTGRES_PASSWORD: awxpass/POSTGRES_PASSWORD: $new_password/g" /data/.awx/docker-compose.yml'
      - sed -i "s/awxpass/$new_password/g" /data/.awx/credentials.py
      - sed -i "s/DATABASE_PASSWORD=awxpass/DATABASE_PASSWORD=$new_password/g" /data/.awx/environment.sh
      - sed -i "s/AWX_ADMIN_PASSWORD=password/AWX_ADMIN_PASSWORD=$new_password/g" /data/.awx/environment.sh
    volumes: 
      - /data/pgdocker/10/data
